<?php

namespace Dragon2517\Future\Person;

use PDO;

class SqlNotebook
{
    public function __construct(
        private PDO $connection
    ) {
    }

    public function save(Comment $commen): void
    {
        // Добавили поле commen в запрос
        $statement = $this->connection->prepare(
            'INSERT INTO users (uuid, post_uuid, author_uuid, text)
                VALUES (:uuid, :post_uuid, :author_uuid, :text)'
        );
        $statement->execute([
            ':uuid' => (string)$commen->uuid(),
            ':post_uuid' => $commen->getUser(),
            ':author_uuid' => $commen->getPost(),
            ':text' => $commen->getText(),
        ]);
    }
}
